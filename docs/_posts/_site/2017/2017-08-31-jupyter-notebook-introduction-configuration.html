<p>学习Python的时候，为了快速验证我们学习的知识点，可以用Python自带的python命令进入REPL交互界面，输入Python语句。但实在不方便：</p>

<ol>
  <li>命令行环境，输错了一句就要重来（比如def一个函数）</li>
  <li>如果某段逻辑写的有误，需要重新执行一遍所有代码。</li>
</ol>

<p>所以代码长了，我们写成.py文件执行，但还是不得劲儿。</p>

<p>ipython倒是一个很不错的REPL，除了像python命令一样可以执行Python语句外，还会保留每一步输出，也是很多书籍和教程里面使用的工具，但还不够好。</p>

<p>直到我发现了jupyter notebook神器：http://jupyter.org/ ，它几乎满足了我所有的幻想！</p>

<p>如果用一句话描述，那就是：jupyter notebook==就像一张“草稿纸”一样==。</p>

<p>它的样子是这样的：
<img src="https://cdn.imshuai.com/images/2017/08/jupyter-snapshot.png" alt="jupyter notebook snapshot" /></p>

<p>它可以记录你的所有命令和输出结果，每个命令都可以方便修改执行；整个“演算过程”可以直接保存成一个.ipynb文件，直接分享给另一个有jupyter环境的用户==完整再现你的演算过程==。</p>

<h3 id="1-支持markdown">1. 支持markdown</h3>
<p>原生支持markdown语法，这在演算或写教程的时候特别有用：代码和文档混合在一起：</p>

<ol>
  <li>方便的文档混写</li>
  <li>方便的代码编辑</li>
</ol>

<p>并且，由于是图形环境，对诸如matplolib等图表工具的支持良好，几乎可以当做“免费版matlab使用”</p>

<h3 id="2-丰富的内核kernel扩展">2. 丰富的内核（kernel）扩展</h3>
<p>这还没完，除原生支持Python外，jupyter还可以通过扩展“内核（kernel）”支持你能想到的任何绝大多数语言，到<a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">Jupyter kernels</a>上，可以查看其支持的语言列表，俨然成了一个生态，比如知名的有：</p>

<ol>
  <li>JavaScript</li>
  <li>Haskell</li>
  <li>Ruby</li>
  <li>Go</li>
  <li>Scala</li>
  <li>PHP</li>
</ol>

<h3 id="3-github支持其文件格式">3. GitHub支持其文件格式</h3>
<p>jupyter生成的文件，github也直接支持预览，这一点也很赞。</p>

<h3 id="4-在线尝试jupyter">4. 在线尝试jupyter</h3>

<p>想尝试的话，可以通过以下途径：</p>

<ul>
  <li>官方demo</li>
</ul>

<p>在上面测试：https://try.jupyter.org/</p>

<ul>
  <li>量化投资平台</li>
</ul>

<p>另外，很多量化投资平台，也都是基于jupyter notebook搭建的，大家在上面写量化策略的
Python代码，进行策略验证。比如国内知名的：</p>

<ul>
  <li><a href="https://www.joinquant.com/">聚宽</a></li>
  <li><a href="https://uqer.io/">优矿</a></li>
  <li><a href="https://www.ricequant.com/">米筐</a></li>
</ul>

<h3 id="5-配置jupyter-notebook">5. 配置jupyter notebook</h3>

<ul>
  <li>第一次启动jupyter</li>
</ul>

<p>安装完毕后，执行<code class="highlighter-rouge">jupyter notebook</code>，即可快速启动jupyter，一般直接会弹出个浏览器页面，地址类似：</p>

<p><code class="highlighter-rouge">http://localhost:8888/?token=1bba445e9540f7d40e99e9e3b59dfe78212adfba0d6ae329</code></p>

<p>token是临时生成的字符串，可以直接登录进入。然而这种方式并不方便：</p>

<ol>
  <li>没有固定的登录密码</li>
  <li>几乎没有配置（当然可以输入到命令行参数，但每次启动都要输入，太麻烦）</li>
</ol>

<p>就像你想到的那样，肯定有配置文件。</p>

<ul>
  <li>添加配置文件</li>
</ul>

<p>执行命令</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> jupyter notebook --generate-config
</code></pre></div></div>
<p>按照国际惯例，该命令会在用户目录下创建一个配置目录，名字就像你猜的一样，就是<code class="highlighter-rouge">.jupyter</code>，目录里会看到一个<code class="highlighter-rouge">jupyter_notebook_config.py</code>的配置文件。</p>

<ul>
  <li>编辑配置文件</li>
</ul>

<p>主要的配置项：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 登录密码，默认没有密码，所以每次启动服务器后都会产生一个随机数token，配置了密码后就不用每次使用随机数token了
c.NotebookApp.password = ''

## 服务的端口，用默认的8888即可
c.NotebookApp.port = 8888

## 是否需要自动弹出浏览器，服务器端一般不需要
c.NotebookApp.open_browser = False

## The directory to use for notebooks and kernels.
## 不设置的话就是启动命令所在的目录
c.NotebookApp.notebook_dir = '/home/maoshuai/work'
</code></pre></div></div>

<p>如果要去远程可访问，还要打开ip限制（默认jupyter notebook只能本机访问）：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c.NotebookApp.ip='*'
</code></pre></div></div>

<ul>
  <li>密码生成</li>
</ul>

<p>需要注意的是，上面的c.NotebookApp.password配置的并==非明文密码==，按照配置文件上的注释步骤生成：</p>

<ol>
  <li>在命令行下输入ipython，进入REPL环境</li>
  <li>执行：<code class="highlighter-rouge">from notebook.auth import passwd;passwd()</code></li>
  <li>根据提示输入明文密码</li>
  <li>生成hash后的密码类似如下：
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>In [2]: from notebook.auth import passwd; passwd()
Enter password:
Verify password:
Out[2]: 'sha1:e4ac9ea2e432:ce17c208cac9c15c59dd6f34ffe2a262f6d65bf3'
</code></pre></div>    </div>
    <p>将sha1开头的一串字符，拷贝到c.NotebookApp.password字段即可。这样再次启动jupyter时，就有了密码输入界面。</p>
  </li>
</ol>

<h3 id="6-总结">6. 总结</h3>
<p>以上就是jupyter notebook的简介，非常推荐。什么？没安装指南？这还要问，自己到官网上看啊！</p>
